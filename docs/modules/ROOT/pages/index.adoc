= PojoQuery Documentation
:description: A lightweight Java library for working with relational databases using POJOs
:keywords: java, database, orm, pojo, sql
:page-partial:
:page-layout: base

image:logo_pojoquery.png[alt="PojoQuery Logo", width=200, height=200]

PojoQuery is a lightweight utility for working with relational databases in Java. Instead of writing SQL queries in plain text, PojoQuery leverages Plain Old Java Objects (POJOs) to define the set of fields and tables (joins) to fetch.

== Key Features

* Type-safe database queries using POJOs
* Automatic SQL generation from POJO structure
* Support for complex joins and relationships via `@Link` and `@Join`
* Customizable through annotations (`@Table`, `@Id`, `@FieldName`, `@Select`, etc.)
* No lazy loading, no proxies, no session management complexity
* Easily adaptable to different database engines (tested with MySQL, PostgreSQL, HSQL)
* Support for inheritance mapping (`@SubClasses`)
* Support for embedded objects (`@Embedded`)
* Handling of dynamic columns (`@Other`)

== Quick Example

Define your POJOs:

[source,java]
----
// Base entity
@Table("article")
class Article {
    @Id Long id;
    String title;
    String content;
    Long author_id; // Foreign key
}

// View/DTO extending the base entity
class ArticleDetail extends Article {
    @Link User author; // Automatically joins based on author_id
    @Link List<CommentDetail> comments; // Automatically joins based on article_id in comment table
}

@Table("user")
class User {
    @Id Long id;
    String firstName;
    String lastName;
}

@Table("comment")
class CommentDetail {
    @Id Long id;
    Long article_id; // Foreign key
    String comment;
    Date submitdate;
    @Link User author; // Join based on author_id in comment table
}
----

Build and execute the query:

[source,java]
----
// Assuming 'dataSource' is your configured javax.sql.DataSource
ArticleDetail article = PojoQuery.build(ArticleDetail.class)
    .addWhere("article.id = ?", 123L) // Add WHERE clause
    .addOrderBy("comments.submitdate DESC") // Add ORDER BY
    .execute(dataSource) // Execute against the database
    .stream() // Get results as a stream
    .findFirst() // Get the first result (or Optional.empty())
    .orElse(null);

if (article != null) {
    System.out.println("Article Title: " + article.title);
    System.out.println("Author: " + article.author.firstName);
    System.out.println("Number of comments: " + article.comments.size());
}
----

This generates a predictable SQL query, joining `article`, `user` (for article author), `comment`, and `user` (for comment author) tables.

== Getting Started

To begin using PojoQuery in your project, follow our xref:getting-started.adoc[Getting Started] guide.

== Documentation Structure

* xref:getting-started.adoc[Getting Started] - Setup and basic usage.
* xref:features.adoc[Features] - Overview of PojoQuery capabilities.
* xref:annotations.adoc[Annotations] - Detailed reference for all annotations.
* xref:query-building.adoc[Query Building] - Using the fluent API to construct queries.
* xref:database-support.adoc[Database Support] - Information on supported databases and configuration.
* xref:advanced-topics.adoc[Advanced Topics] - Inheritance, custom joins, streaming, and more.
* xref:examples.adoc[Examples] - Practical code examples.

